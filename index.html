<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Noetika</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <div class="main-content">
    <h1 class="main-title">Tribússola - um norte para sua solução</h1>
    <h2 class="subtitle">dashboard interativo</h2>
    <p style="text-align: center; color: #eaeaea; margin-bottom: 20px;">Clique sobre o triângulo para definir sua
      prioridade</p>

    <div class="wrap">
      <div class="tri-wrap">
        <canvas id="tri" width="900" height="600"></canvas>
        <div class="label label-top">PRAZO</div>
        <div class="label label-left">CUSTO</div>
        <div class="label label-right">QUALIDADE</div>
      </div>

      <div class="controls">
        <label>
          <span class="swatch" style="--c:#f20308"></span> Custo (%)
          <input type="number" id="r" min="0" max="100" step="0.1" value="33.33">
        </label>
        <label>
          <span class="swatch" style="--c:#13e40a"></span> Qualidade (%)
          <input type="number" id="g" min="0" max="100" step="0.1" value="33.33">
        </label>
        <label>
          <span class="swatch" style="--c:#0d09e8"></span> Prazo (%)
          <input type="number" id="b" min="0" max="100" step="0.1" value="33.33">
        </label>
        <button id="confirm" class="primary">Confirmar Prioridades</button>
      </div>

      <div id="podium" class="podium"></div>
      <div id="clusterPlot"></div>

      <div class="controls" style="margin-top: 20px; justify-content: center;">
        <button id="btnRanking" class="ghost">Ver Ranking Completo</button>
        <button id="btnTree" class="ghost">Ver Árvore de Decisão</button>
        <button id="btnGenerateReport" class="ghost">Gerar Relatório</button>
      </div>

      <div id="rankingSection" style="display: none;">
        <div id="table" class="result"></div>
      </div>

      <div id="treeSection" style="display: none;">
        <div id="tree" class="tree"></div>

        <div class="tree-legend"
          style="margin-top: 20px; padding: 15px; background: #1a1a1a; border-radius: 8px; border: 1px solid #333;">
          <h4 style="margin: 0 0 10px 0; color: #eaeaea; font-size: 14px;">Legenda:</h4>
          <div style="display: flex; flex-direction: column; gap: 8px;">
            <div style="display: flex; align-items: center; gap: 10px;">
              <span
                style="width: 16px; height: 16px; background-color: #ff4d4d; border-radius: 4px; display: inline-block;"></span>
              <span style="color: #ccc; font-size: 13px;">confia? essas empresas terão dados da SEG</span>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
              <span
                style="width: 16px; height: 16px; background-color: #4d94ff; border-radius: 4px; display: inline-block;"></span>
              <span style="color: #ccc; font-size: 13px;">plataformas com login a partir de qualquer lugar, e em
                qualquer horário</span>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
              <span
                style="width: 16px; height: 16px; background-color: #ff9900; border-radius: 4px; display: inline-block;"></span>
              <span style="color: #ccc; font-size: 13px;">pode demandar instalação de novos terminais</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <dialog id="confirmDlg">
    <div class="dlg-content">
      <p id="dlgText" style="text-align: center;"></p>
      <div class="dlg-actions">
        <button id="dlgReset" class="ghost">Cancelar</button>
        <button id="dlgOk" class="primary">Confirmar</button>
      </div>
    </div>
  </dialog>

  <dialog id="solutionModal">
    <div class="modal-header">
      <h2>Detalhes da Solução</h2>
      <button class="modal-close" id="closeModal">×</button>
    </div>
    <div id="solutionModalContent" class="modal-content"></div>
  </dialog>

  <dialog id="reportConfirmDlg">
    <div class="dlg-content">
      <h3>Transparência sobre consultoria e dados</h3>
      <p style="text-align: justify; font-size: 12px; line-height: 1.4;">Este material possui caráter consultivo
        (diagnóstico e recomendações com base nos dados fornecidos). Processamos dados como IP, timestamp e métricas de
        navegação para: (1) gerar e disponibilizar o PDF/relatório, (2) registrar sua ciência e manter trilha de
        auditoria, e (3) viabilizar contato comercial para eventual proposta. Base legal: procedimentos
        pré-contratuais/contratuais e legítimo interesse, além do consentimento quando aplicável. Direitos do titular:
        acesso, correção, oposição e eliminação contate noetikaai@gmail.com</p>
      <div class="dlg-actions">
        <button id="reportConfirmCancel" class="ghost">Cancelar</button>
        <button id="reportConfirmOk" class="primary">Gerar</button>
      </div>
    </div>
  </dialog>

  <script type="module" src="/app.js"></script>
</body>

</html>